<div class="page-header">
	<h1>Week Plan</h1>
	<div *ngIf="selectedWeek">
		<button (click)="advanceWeek(-7)" *ngIf="selectedWeek().startDate > earliestStartingWeek" mat-raised-button>
			<mat-icon style="margin: 0;">navigate_before</mat-icon>
		</button>
		&nbsp;
		<button (click)="advanceWeek(7)" mat-raised-button>
			<mat-icon style="margin: 0;">navigate_next</mat-icon>
		</button>
	</div>

</div>
<div *ngIf="foodPlans$ | async as foodPlans">
	<div *ngIf="foodPlans.length > 0; else noFoodPlans">
		<div *ngIf="user() as user" @foodPlans>
			<app-food-plan-preview *ngFor="let foodPlan of foodPlans; trackBy: trackById"
								   [canEdit]="user.canEdit"
								   [foodPlan]="foodPlan"
								   [selectedEndDate]="selectedWeek().endDate.toDate()"></app-food-plan-preview>
		</div>
	</div>

	<button (click)="openShoppingList(foodPlans)"
			class="btn-open-shopping-list"
			mat-fab>
		<mat-icon>checklist_rtl</mat-icon>
	</button>
</div>

<ng-template #noFoodPlans>
	@if (foodPlanLoadingError()) {
		<h1 class="center">{{ foodPlanLoadingError() }}</h1>
	} @else {
		<h1 class="center">No plans have been created yet ðŸ˜¥</h1>
	}
</ng-template>
